diff -r -x '*.config' -x '*git*' -x '*.md' -x '*.xml' d4j_buggy/Closure90/src/com/google/javascript/jscomp/FunctionTypeBuilder.java d4j_patched/Closure90/src/com/google/javascript/jscomp/FunctionTypeBuilder.java
184c184
<       if (!type.isSubtype(
---
>       if (!type.restrictByNotNullOrUndefined().isSubtype(
diff -r -x '*.config' -x '*git*' -x '*.md' -x '*.xml' d4j_buggy/Closure90/src/com/google/javascript/rhino/jstype/FunctionType.java d4j_patched/Closure90/src/com/google/javascript/rhino/jstype/FunctionType.java
879a880,882
>     if (maybeTypeOfThis != null) {
>       maybeTypeOfThis = maybeTypeOfThis.restrictByNotNullOrUndefined();
>     }
