diff -r -x '*.config' -x '*git*' -x '*.md' -x '*.xml' d4j_buggy/Mockito3/src/org/mockito/internal/invocation/InvocationMatcher.java d4j_patched/Mockito3/src/org/mockito/internal/invocation/InvocationMatcher.java
127,128c127
<             for (int position = indexOfVararg; position < matchers.size(); position++) {
<                 Matcher m = matchers.get(position);
---
>             for (Matcher m : uniqueMatcherSet(indexOfVararg)) {
130c129,132
<                     ((CapturesArguments) m).captureFrom(invocation.getRawArguments()[position - indexOfVararg]);
---
>                     Object rawArgument = invocation.getRawArguments()[indexOfVararg];
>                     for (int i = 0; i < Array.getLength(rawArgument); i++) {
>                         ((CapturesArguments) m).captureFrom(Array.get(rawArgument, i));
>                     }
142a145,156
>     private Set<Matcher> uniqueMatcherSet(int indexOfVararg) {
>         HashSet<Matcher> set = new HashSet<Matcher>();
>         for (int position = indexOfVararg; position < matchers.size(); position++) {
>             Matcher matcher = matchers.get(position);
>             if(matcher instanceof MatcherDecorator) {
>                 set.add(((MatcherDecorator) matcher).getActualMatcher());
>             } else {
>                 set.add(matcher);
>             }
>         }
>         return set;
>     }
