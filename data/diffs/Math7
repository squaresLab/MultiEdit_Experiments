diff -r -x '*.config' -x '*git*' -x '*.md' -x '*.xml' d4j_buggy/Math7/src/main/java/org/apache/commons/math3/ode/AbstractIntegrator.java d4j_patched/Math7/src/main/java/org/apache/commons/math3/ode/AbstractIntegrator.java
346,347c346,349
<                 currentEvent.stepAccepted(eventT, eventY);
<                 isLastStep = currentEvent.stop();
---
>                 for (final EventState state : eventsStates) {
>                     state.stepAccepted(eventT, eventY);
>                     isLastStep = isLastStep || state.stop();
>                 }
357,359d358
<                     for (final EventState remaining : occuringEvents) {
<                         remaining.stepAccepted(eventT, eventY);
<                     }
363c362,365
<                 boolean needReset = currentEvent.reset(eventT, eventY);
---
>                 boolean needReset = false;
>                 for (final EventState state : eventsStates) {
>                     needReset =  needReset || state.reset(eventT, eventY);
>                 }
370,372d371
<                     for (final EventState remaining : occuringEvents) {
<                         remaining.stepAccepted(eventT, eventY);
<                     }
