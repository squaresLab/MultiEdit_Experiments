diff -r -x '*.config' -x '*git*' -x '*.md' -x '*.xml' d4j_buggy/Closure132/src/com/google/javascript/jscomp/PeepholeSubstituteAlternateSyntax.java d4j_patched/Closure132/src/com/google/javascript/jscomp/PeepholeSubstituteAlternateSyntax.java
782c782,784
<               !mayEffectMutableState(lhs)) {
---
>               !mayEffectMutableState(lhs) &&
>               (!mayHaveSideEffects(cond) ||
>                   (thenOp.isAssign() && thenOp.getFirstChild().isName()))) {
